<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style0.css" />
    <title>帮助七郎除“夕”</title>
  </head>
  <body>
    <h1 id="text">Starting...</h1> <!-- 将 id="text" 用作文本效果起始点 -->

    <button class="ripple oval-button" id="navigateButton">开始游戏</button>
    
    <script>
      const textEl = document.getElementById('text')
      const text = '帮助七郎除“夕”'
      let idx = 1
      let speed = 400 // 固定速度为150毫秒

      function writeText() {
          textEl.innerText = text.slice(0, idx)
          idx++
          if(idx > text.length) {
              idx = 1
          }
          setTimeout(writeText, speed)
      }

      writeText()

      // 按钮点击事件监听器
      document.getElementById('navigateButton').addEventListener('click', function() {
          window.location.href = 'index1.html';
      });

      // 按钮的涟漪效果
      const buttons = document.querySelectorAll('.ripple')
      buttons.forEach(button => {
          button.addEventListener('click', function (e) {
              const x = e.pageX
              const y = e.pageY
              const buttonTop = e.target.offsetTop
              const buttonLeft = e.target.offsetLeft
              const xInside = x - buttonLeft
              const yInside = y - buttonTop
              const circle = document.createElement('span')
              circle.classList.add('circle')
              circle.style.top = yInside + 'px'
              circle.style.left = xInside + 'px'
              this.appendChild(circle)
              setTimeout(() => circle.remove(), 500)
          })
      })
    </script>
  </body>
</html>